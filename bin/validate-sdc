#!/usr/bin/env php
<?php

// Find the autoloader
$autoloadPaths = [
  __DIR__ . '/../../../autoload.php',     // Installed as a dependency
  __DIR__ . '/../vendor/autoload.php',    // Standalone development
];

$autoloaderFound = false;
foreach ($autoloadPaths as $autoloadPath) {
  if (file_exists($autoloadPath)) {
    require $autoloadPath;
    $autoloaderFound = true;
    break;
  }
}

if (!$autoloaderFound) {
  fwrite(STDERR, "Error: Unable to find Composer autoloader.\n");
  exit(1);
}

use Kanopi\DrupalSdcValidator\Validator;

exit((new Validator())->run($argv));
